{"version":3,"file":"main.63d572846539f5e5dcb3.hot-update.js","mappings":"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","sources":["webpack://mredings/./src/client/Login/Register.jsx","webpack://mredings/webpack/runtime/getFullHash"],"sourcesContent":["import React from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport Input from \"../components/Input\";\r\nimport {gql, useApolloClient, useMutation} from \"@apollo/client\"\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst SET_USER = gql`\r\n    mutation Mutation($email: String!, $password: String!) {\r\n        createUser(email: $email, password: $password)\r\n    }\r\n`\r\n\r\nconst Register = () => {\r\n    const client = useApolloClient()\r\n    const navigate = useNavigate()\r\n    const goToLogin = () => navigate('/login')\r\n    const [createUser, {data, loading, error}] = useMutation(SET_USER, {\r\n        onCompleted: data => {\r\n            localStorage.setItem(\"token\", data.createUser)\r\n        }\r\n    })\r\n    const {register, handleSubmit, reset, formState: {errors}} = useForm({\r\n        mode: 'onBlur'\r\n    })\r\n    const onSubmit = data => {\r\n        createUser({variables: {email: data.email, password: data.password}})\r\n        reset()\r\n    }\r\n    if (loading) return 'loading...'\r\n    if (error) return `Произошла ошибка отправки ${error.message}`\r\n\r\n\r\n    return (\r\n            <form className='px-8 pt-6 pb-8 mb-2' onSubmit={handleSubmit(onSubmit)}>\r\n                <div className=\"mb-4\">\r\n                    <Input\r\n                        label='Введите электронну почту'\r\n                        type='email'\r\n                        placeholder='Введите электронную почту'\r\n                        classNameLabel='block text-gray-700 text-sm font-bold mb-2'\r\n                        classNameInput='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'\r\n                        {...register('email', {\r\n                            required: \"Поле обязательно к заполнению\",\r\n                            minLength: {\r\n                                value: 2,\r\n                                message: \"Поле должно содержать более 2 символов\"\r\n                            }\r\n                        })}\r\n                    />\r\n                    {errors.email && <span className='pl-2 text-red-500 text-sm'>{errors.email.message || \"Необходимо ввести логин\"}</span>}\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                    <Input\r\n                        label='Введите пароль'\r\n                        classNameLabel='block text-gray-700 text-sm font-bold mb-2'\r\n                        classNameInput='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'\r\n                        placeholder='Введите пароль'\r\n                        type='password'\r\n                        {...register('password', {\r\n                            required: \"Поле обязательно к заполнению\",\r\n                            minLength: {\r\n                                value: 2,\r\n                                message: \"Поле должно содержать более 2 символов\"\r\n                            }\r\n                        })}\r\n                    />\r\n                    {errors.password && <span className='pl-2 text-red-500 text-sm'>{errors.password.message || \"Необходимо ввести пароль\"}</span>}\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                    <Input\r\n                        label='Подтвердите пароль'\r\n                        classNameLabel='block text-gray-700 text-sm font-bold mb-2'\r\n                        classNameInput='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'\r\n                        type='password'\r\n                        name='twopassword'\r\n                        placeholder='Подтвердите пароль'\r\n                        {...register('twopassword', {\r\n                            required: \"Поле обязательно к заполнению\",\r\n                            minLength: {\r\n                                value: 2,\r\n                                message: \"Поле должно содержать более 2 символов\"\r\n                            }\r\n                        })}\r\n                    />\r\n                    {errors.twopassword && <span className='pl-2 text-red-500 text-sm'>{errors.twopassword.message || \"Необходимо подтвердить пароль\"}</span>}\r\n                </div>\r\n                <div className=\"flex items-center justify-between mt-7\">\r\n                    <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                            type='submit'>Зарегестрироваться</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nexport default Register","__webpack_require__.h = () => (\"c63187a4b890b9be3916\")"],"names":["React","useForm","Input","gql","useApolloClient","useMutation","useNavigate","SET_USER","Register","client","navigate","goToLogin","onCompleted","data","localStorage","setItem","createUser","loading","error","mode","register","handleSubmit","reset","errors","formState","onSubmit","variables","email","password","message","required","minLength","value","twopassword"],"sourceRoot":""}